{"pageProps":{"post":{"title":"Syncing minikube configuration with Cygwin","content":"<!-- markdown-link-check-disable -->\n\n<h3 id=\"the-problem\">The Problem</h3>\n<p>I have <a href=\"https://www.cygwin.com/\">Cygwin64</a> installed on my laptop which is running Windows 7 and I use both Windows CMD as well as Cygwin bash.</p>\n<p>Logged in a Cygwin64 bash shell as gpmacario@HW2457, after doing</p>\n<pre><code class=\"language-shell\">minikube start\nminikube status\n</code></pre>\n<p>My local Minikube cluster is correctly identified</p>\n<pre><code>gpmacario@HW2457:~ $ minikube status\nminikube: Running\ncluster: Running\nkubectl: Correctly Configured: pointing to minikube-vm at 192.168.99.100\ngpmacario@HW2457:~ $\n</code></pre>\n<p>However when I start minikube from a Windows command shell, the cluster is not reachable</p>\n<pre><code>C:\\Users\\GPMacario&gt;minikube status\nminikube:\ncluster:\nkubectl:\n\nC:\\Users\\GPMacario&gt;\n</code></pre>\n<h3 id=\"troubleshooting\">Troubleshooting</h3>\n<p>By default Minikube stores its configuration in a <code>.minikube</code> directory under your home folder.</p>\n<p>Unfortunately (as of v0.29) Minikube is not Cygwin64-aware and interprets the home directory differently depending on whether it was launched from Windows CMD or Cygwin bash.</p>\n<ul>\n<li>On Windows: <code>C:\\Users\\GPMacario</code></li>\n<li>On Cygwin bash: <code>C:\\cygwin64\\home\\gpmacario</code></li>\n</ul>\n<p>After looking through the Minikube documentation I found <a href=\"https://github.com/kubernetes/minikube/blob/master/docs/env_vars.md\">https://github.com/kubernetes/minikube/blob/master/docs/env_vars.md</a>:</p>\n<blockquote>\n<p><strong>MINIKUBE_HOME</strong> - (string) sets the path for the .minikube directory that minikube uses for state/configuration</p>\n</blockquote>\n<h3 id=\"solution\">Solution</h3>\n<p>Start &gt; Computer &gt; Properties &gt; Advanced &gt; Environment Variables</p>\n<p>and set environment variable <code>MINIKUBE_HOME</code></p>\n<pre><code>MINIKUBE_HOME=C:\\cygwin64\\home\\gpmacario\\.minikube\n</code></pre>\n<p>In this way when launched from Windows CMD, minikube will find its configuration files in the same directory where they were stored when launched from Cygwin bash:</p>\n<p>Start &gt; cmd</p>\n<pre><code>Microsoft Windows [Versione 6.1.7601]\nCopyright (c) 2009 Microsoft Corporation. Tutti i diritti riservati.\n\nC:\\Users\\GPMacario&gt;echo %MINIKUBE_HOME%\nC:\\cygwin64\\home\\gpmacario\\.minikube\n\nC:\\Users\\GPMacario&gt;minikube status\nminikube: Running\ncluster: Running\nkubectl: Correctly Configured: pointing to minikube-vm at 192.168.99.100\n\nC:\\Users\\GPMacario&gt;\n</code></pre>\n<!-- markdown-link-check-enable -->\n<!-- EOF -->\n"},"config":{"title":"gmacario.github.io","description":"Gianpaolo Macario's public rants","social":{"github":{"name":"gmacario","link":"https://github.com/gmacario"},"twitter":{"name":"gpmacario","link":"https://www.twitter.com/gpmacario"}}}},"__N_SSG":true}