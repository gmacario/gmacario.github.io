{"pageProps":{"post":{"title":"Trying GDP-11 on a Raspberry Pi 3","content":"<!-- markdown-link-check-disable -->\n\n<h3 id=\"introduction\">Introduction</h3>\n<p>I wrote a couple of notes trying the Release 11 of the <a href=\"https://at.projects.genivi.org/wiki/x/aoCw\">GENIVI Development Platform</a> on a <a href=\"https://www.raspberrypi.org/products/raspberry-pi-3-model-b/\">Raspberry Pi 3 Model B</a>.</p>\n<h3 id=\"writing-the-sd-card-with-gdp-11-for-raspberry-pi-3\">Writing the SD-Card with GDP-11 for Raspberry Pi 3</h3>\n<!-- 2016-12-22 16:00 CET -->\n\n<p>Browse the <a href=\"https://at.projects.genivi.org/wiki/x/64Kw\">GDP Download page</a>.</p>\n<p>Download the &quot;GDP 11 Raspberry Pi 3 gzipped SD image&quot;</p>\n<pre><code>wget -c http://docs.projects.genivi.org/gdp_files/v11/GDP11/raspberrypi3/final/gdp-11-rpi3-sdimg.gz\n</code></pre>\n<p>Result:</p>\n<pre><code>gmacario@ITM-GPAOLO-W10 /cygdrive/d/data/GENIVI/download-gdp/tmp/gdp-11-rpi3\n$ wget -c http://docs.projects.genivi.org/gdp_files/v11/GDP11/raspberrypi3/final/gdp-11-rpi3-sdimg.gz\n--2016-12-22 16:33:32--  http://docs.projects.genivi.org/gdp_files/v11/GDP11/raspberrypi3/final/gdp-11-rpi3-sdimg.gz\nResolving docs.projects.genivi.org (docs.projects.genivi.org)... 38.101.164.236\nConnecting to docs.projects.genivi.org (docs.projects.genivi.org)|38.101.164.236|:80... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 1249902592 (1.2G) [application/x-gzip]\nSaving to: ‘gdp-11-rpi3-sdimg.gz’\n\ngdp-11-rpi3-sdimg.gz                         100%[=============================================================================================&gt;]   1.16G  1.08MB/s    in 18m 52s\n\n2016-12-22 16:52:24 (1.05 MB/s) - ‘gdp-11-rpi3-sdimg.gz’ saved [1249902592/1249902592]\n\n\ngmacario@ITM-GPAOLO-W10 /cygdrive/d/data/GENIVI/download-gdp/tmp/gdp-11-rpi3\n$\n</code></pre>\n<p>Verify the checksum of the downloaded file matches the one published on the wiki page above</p>\n<pre><code>md5sum gdp-11-rpi3-sdimg.gz\n</code></pre>\n<p>Result:</p>\n<pre><code>gmacario@ITM-GPAOLO-W10 /cygdrive/d/data/GENIVI/download-gdp/tmp/gdp-11-rpi3\n$ md5sum gdp-11-rpi3-sdimg.gz\n70b92361b25dbb25b8642f28eb12899d *gdp-11-rpi3-sdimg.gz\n\ngmacario@ITM-GPAOLO-W10 /cygdrive/d/data/GENIVI/download-gdp/tmp/gdp-11-rpi3\n$\n</code></pre>\n<p>Check what contains the downloaded image</p>\n<pre><code>gmacario@ITM-GPAOLO-W10 /cygdrive/d/data/GENIVI/download-gdp/tmp/gdp-11-rpi3\n$ zcat gdp-11-rpi3-sdimg.gz\n\ngzip: gdp-11-rpi3-sdimg.gz: not in gzip format\n\ngmacario@ITM-GPAOLO-W10 /cygdrive/d/data/GENIVI/download-gdp/tmp/gdp-11-rpi3\n$ file gdp-11-rpi3-sdimg.gz\ngdp-11-rpi3-sdimg.gz: DOS/MBR boot sector; partition 1 : ID=0xc, active, start-CHS (0x40,0,1), end-CHS (0x2bf,3,32), startsector 8192, 81920 sectors; partition 2 : ID=0x83, start-CHS (0x2c0,0,1), end-CHS (0x3ff,3,32), startsector 90112, 2351104 sectors\n\ngmacario@ITM-GPAOLO-W10 /cygdrive/d/data/GENIVI/download-gdp/tmp/gdp-11-rpi3\n$\n</code></pre>\n<p>it looks like in spite of the filename, <code>gdp-11-rpi3-sdimg.gz</code> was not gzipped (it is the raw image of the SD-card), so rename it more appropriately</p>\n<pre><code>mv gdp-11-rpi3-sdimg.gz gdp-11-rpi3.sdimg\n</code></pre>\n<p>Then use Win32DiskImager on your host to write file <code>gdp-11-rpi1.sdimg</code> to a blank SD-Card</p>\n<p>Unmount the SD-Card before removing it from the laptop.</p>\n<h3 id=\"booting-gdp-11-on-the-raspberry-pi-3\">Booting GDP-11 on the Raspberry Pi 3</h3>\n<ol>\n<li>Insert the microSD with GDP-11 image into the Raspberry Pi 3 microSD-Card slot.</li>\n<li>Connect a HDMI display to the Raspberry Pi using a HDMI cable</li>\n<li>Connect the Ethernet connector to your router using an Ethernet cable</li>\n<li>Connect a USB Mouse to the Raspberry Pi 3</li>\n<li>Connect a USB Keyboard to the Raspberry Pi 3</li>\n<li>Finally, power up the Raspberry Pi 3 by connecting a power supply to its MicroUSB connector</li>\n</ol>\n<p>After a few seconds you should see the GDP Home Page on the HDMI display.</p>\n<h3 id=\"inspect-the-target\">Inspect the target</h3>\n<p>Discover the IP address that was assigned by your router to the Raspberry Pi 3 (for instance, I used the <a href=\"https://www.fing.io/\">Fing</a> app from an Android phone connected via Wi-Fi to the same router). In my case, this is <code>192.168.12.105</code></p>\n<p>Login to the target via SSH as user <code>root</code> (default password: <code>root</code>)</p>\n<pre><code>gmacario@ITM-GPAOLO-W10 ~\n$ ssh root@192.168.12.105\nroot@192.168.12.105&#39;s password:\nLast login: Fri Dec 23 13:03:44 2016 from 192.168.12.101\nroot@raspberrypi3:~#\n</code></pre>\n<h4 id=\"inspect-proccpuinfo\">Inspect <code>/proc/cpuinfo</code></h4>\n<pre><code>root@raspberrypi3:~# cat /proc/cpuinfo\nprocessor       : 0\nmodel name      : ARMv7 Processor rev 4 (v7l)\nBogoMIPS        : 38.40\nFeatures        : half thumb fastmult vfp edsp neon vfpv3 tls vfpv4 idiva idivt vfpd32 lpae evtstrm crc32\nCPU implementer : 0x41\nCPU architecture: 7\nCPU variant     : 0x0\nCPU part        : 0xd03\nCPU revision    : 4\n\nprocessor       : 1\nmodel name      : ARMv7 Processor rev 4 (v7l)\nBogoMIPS        : 38.40\nFeatures        : half thumb fastmult vfp edsp neon vfpv3 tls vfpv4 idiva idivt vfpd32 lpae evtstrm crc32\nCPU implementer : 0x41\nCPU architecture: 7\nCPU variant     : 0x0\nCPU part        : 0xd03\nCPU revision    : 4\n\nprocessor       : 2\nmodel name      : ARMv7 Processor rev 4 (v7l)\nBogoMIPS        : 38.40\nFeatures        : half thumb fastmult vfp edsp neon vfpv3 tls vfpv4 idiva idivt vfpd32 lpae evtstrm crc32\nCPU implementer : 0x41\nCPU architecture: 7\nCPU variant     : 0x0\nCPU part        : 0xd03\nCPU revision    : 4\n\nprocessor       : 3\nmodel name      : ARMv7 Processor rev 4 (v7l)\nBogoMIPS        : 38.40\nFeatures        : half thumb fastmult vfp edsp neon vfpv3 tls vfpv4 idiva idivt vfpd32 lpae evtstrm crc32\nCPU implementer : 0x41\nCPU architecture: 7\nCPU variant     : 0x0\nCPU part        : 0xd03\nCPU revision    : 4\n\nHardware        : BCM2709\nRevision        : a02082\nSerial          : 0000000053213f76\nroot@raspberrypi3:~#\n</code></pre>\n<h4 id=\"inspect-procversion\">Inspect <code>/proc/version</code></h4>\n<pre><code>root@raspberrypi3:~# cat /proc/version\nLinux version 4.4.16 (go@cb359f7478a8) (gcc version 5.3.0 (GCC) ) #1 SMP Fri Dec 16 03:21:28 UTC 2016\nroot@raspberrypi3:~#\n</code></pre>\n<h4 id=\"inspect-procmeminfo\">Inspect <code>/proc/meminfo</code></h4>\n<pre><code>root@raspberrypi3:~# cat /proc/meminfo\nMemTotal:         881740 kB\nMemFree:          495608 kB\nMemAvailable:     611700 kB\nBuffers:           10896 kB\nCached:           162816 kB\nSwapCached:            0 kB\nActive:            98592 kB\nInactive:         116452 kB\nActive(anon):      42776 kB\nInactive(anon):    40228 kB\nActive(file):      55816 kB\nInactive(file):    76224 kB\nUnevictable:           0 kB\nMlocked:               0 kB\nSwapTotal:             0 kB\nSwapFree:              0 kB\nDirty:                 0 kB\nWriteback:             0 kB\nAnonPages:         41268 kB\nMapped:            57896 kB\nShmem:             41676 kB\nSlab:              33808 kB\nSReclaimable:       9060 kB\nSUnreclaim:        24748 kB\nKernelStack:        1232 kB\nPageTables:         1184 kB\nNFS_Unstable:          0 kB\nBounce:                0 kB\nWritebackTmp:          0 kB\nCommitLimit:      440868 kB\nCommitted_AS:     338756 kB\nVmallocTotal:    1179648 kB\nVmallocUsed:           0 kB\nVmallocChunk:          0 kB\nCmaTotal:         262144 kB\nCmaFree:          133780 kB\nroot@raspberrypi3:~#\n</code></pre>\n<h4 id=\"inspect-microsd-card-layout\">Inspect MicroSD card layout</h4>\n<p>Result of <code>lsbok</code></p>\n<pre><code>root@raspberrypi3:~# lsblk\nNAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT\nmmcblk0     179:0    0 14.5G  0 disk\n|-mmcblk0p1 179:1    0   40M  0 part\n`-mmcblk0p2 179:2    0  1.1G  0 part /\nroot@raspberrypi3:~#\n</code></pre>\n<p>Result of <code>fdisk -l /dev/mmcblk0</code></p>\n<pre><code>root@raspberrypi3:~# fdisk -l /dev/mmcblk0\nDisk /dev/mmcblk0: 14.5 GiB, 15523119104 bytes, 30318592 sectors\nUnits: sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisklabel type: dos\nDisk identifier: 0x51480b57\n\nDevice         Boot Start     End Sectors  Size Id Type\n/dev/mmcblk0p1 *     8192   90111   81920   40M  c W95 FAT32 (LBA)\n/dev/mmcblk0p2      90112 2441215 2351104  1.1G 83 Linux\nroot@raspberrypi3:~#\n</code></pre>\n<p>Result of <code>mount</code></p>\n<pre><code>root@raspberrypi3:~# mount\n/dev/mmcblk0p2 on / type ext4 (rw,relatime,data=ordered)\ndevtmpfs on /dev type devtmpfs (rw,relatime,size=309560k,nr_inodes=77390,mode=755)\nsysfs on /sys type sysfs (rw,nosuid,nodev,noexec,relatime)\nproc on /proc type proc (rw,relatime)\ntmpfs on /dev/shm type tmpfs (rw,nosuid,nodev)\ndevpts on /dev/pts type devpts (rw,relatime,gid=5,mode=620,ptmxmode=000)\ntmpfs on /run type tmpfs (rw,nosuid,nodev,mode=755)\ntmpfs on /sys/fs/cgroup type tmpfs (ro,nosuid,nodev,noexec,mode=755)\ncgroup on /sys/fs/cgroup/systemd type cgroup (rw,nosuid,nodev,noexec,relatime,xattr,release_agent=/lib/systemd/systemd-cgroups-agent,name=systemd)\ncgroup on /sys/fs/cgroup/cpu,cpuacct type cgroup (rw,nosuid,nodev,noexec,relatime,cpu,cpuacct)\ncgroup on /sys/fs/cgroup/memory type cgroup (rw,nosuid,nodev,noexec,relatime,memory)\ncgroup on /sys/fs/cgroup/blkio type cgroup (rw,nosuid,nodev,noexec,relatime,blkio)\ncgroup on /sys/fs/cgroup/devices type cgroup (rw,nosuid,nodev,noexec,relatime,devices)\ncgroup on /sys/fs/cgroup/net_cls type cgroup (rw,nosuid,nodev,noexec,relatime,net_cls)\ncgroup on /sys/fs/cgroup/freezer type cgroup (rw,nosuid,nodev,noexec,relatime,freezer)\nmqueue on /dev/mqueue type mqueue (rw,relatime)\ntmpfs on /tmp type tmpfs (rw)\ndebugfs on /sys/kernel/debug type debugfs (rw,relatime)\nconfigfs on /sys/kernel/config type configfs (rw,relatime)\nfusectl on /sys/fs/fuse/connections type fusectl (rw,relatime)\ntmpfs on /var/volatile type tmpfs (rw,relatime)\ntmpfs on /run/user/0 type tmpfs (rw,nosuid,nodev,relatime,size=88176k,mode=700)\nroot@raspberrypi3:~#\n</code></pre>\n<p><strong>SUMMARY</strong>: The GDP-11 image creates two partitions on the SD-Card:</p>\n<table>\n<thead>\n<tr>\n<th>Device</th>\n<th>Size</th>\n<th>Type</th>\n<th>Notes</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>/dev/mmcblk0p1</td>\n<td>40M</td>\n<td>W95 FAT32</td>\n<td>bootcode.bin, kernel, DTB, etc.</td>\n</tr>\n<tr>\n<td>/dev/mmcblk0p2</td>\n<td>1.1G</td>\n<td>Linux (ext4)</td>\n<td>rootfs</td>\n</tr>\n</tbody></table>\n<h4 id=\"inspect-df--h\">Inspect <code>df -h</code></h4>\n<pre><code>root@raspberrypi3:~# df -h\nFilesystem      Size  Used Avail Use% Mounted on\n/dev/root       1.1G  872M  116M  89% /\ndevtmpfs        303M     0  303M   0% /dev\ntmpfs           431M  1.5M  430M   1% /dev/shm\ntmpfs           431M   40M  392M  10% /run\ntmpfs           431M     0  431M   0% /sys/fs/cgroup\ntmpfs           431M     0  431M   0% /tmp\ntmpfs           431M  8.0K  431M   1% /var/volatile\ntmpfs            87M   72K   87M   1% /run/user/0\nroot@raspberrypi3:~#\n</code></pre>\n<h4 id=\"inspect-dos-partition-on-microsd\">Inspect DOS partition on MicroSD</h4>\n<pre><code>root@raspberrypi3:~# mkdir /tmp/boot\nroot@raspberrypi3:~# mount -o ro /dev/mmcblk0p1 /tmp/boot\nroot@raspberrypi3:~# ls -la /tmp/boot\ntotal 21582\ndrwxr-xr-x  4 root root   16384 Jan  1  1970 .\ndrwxrwxrwt 10 root root     240 Dec 23 13:32 ..\ndrwxr-xr-x  2 root root    2048 Dec 23 11:37 &#39;System Volume Information&#39;\n-rwxr-xr-x  1 root root   14024 Dec 16 05:50 bcm2708-rpi-b-plus.dtb\n-rwxr-xr-x  1 root root   13761 Dec 16 05:50 bcm2708-rpi-b.dtb\n-rwxr-xr-x  1 root root   15107 Dec 16 05:50 bcm2709-rpi-2-b.dtb\n-rwxr-xr-x  1 root root   15777 Dec 16 05:50 bcm2710-rpi-3-b.dtb\n-rwxr-xr-x  1 root root       0 Dec 16 05:50 bcm2835-bootfiles-20160622.stamp\n-rwxr-xr-x  1 root root   17932 Dec 16 05:50 bootcode.bin\n-rwxr-xr-x  1 root root     115 Dec 16 05:50 cmdline.txt\n-rwxr-xr-x  1 root root   36312 Dec 16 05:50 config.txt\n-rwxr-xr-x  1 root root    6482 Dec 16 05:50 fixup.dat\n-rwxr-xr-x  1 root root    2504 Dec 16 05:50 fixup_cd.dat\n-rwxr-xr-x  1 root root    9717 Dec 16 05:50 fixup_db.dat\n-rwxr-xr-x  1 root root    9717 Dec 16 05:50 fixup_x.dat\n-rwxr-xr-x  1 root root      49 Dec 16 05:50 image-version-info\n-rwxr-xr-x  1 root root 9752576 Dec 16 05:50 kernel7.img\ndrwxr-xr-x  2 root root    2048 Dec 16 05:50 overlays\n-rwxr-xr-x  1 root root 2746552 Dec 16 05:50 start.elf\n-rwxr-xr-x  1 root root  617432 Dec 16 05:50 start_cd.elf\n-rwxr-xr-x  1 root root 4926264 Dec 16 05:50 start_db.elf\n-rwxr-xr-x  1 root root 3877720 Dec 16 05:50 start_x.elf\nroot@raspberrypi3:~# umount /tmp/boot\nroot@raspberrypi3:~#\n</code></pre>\n<h4 id=\"inspect-installed-version-of-qt\">Inspect installed version of Qt</h4>\n<pre><code>root@raspberrypi3:~# rpm -qa | grep qt | sort\nkernel-module-qt1010-4.4.16+git0+26550dcfb8-r0.raspberrypi3\nlibqt5declarative-plugins-5.6.0+git0+563ce3888f-r0.cortexa7hf_neon_vfpv4\nlibqt5declarative-qmlplugins-5.6.0+git0+563ce3888f-r0.cortexa7hf_neon_vfpv4\nlibqt5declarative5-5.6.0+git0+563ce3888f-r0.cortexa7hf_neon_vfpv4\nlibqt5sensors-plugins-5.6.0+git0+0b00ee6f6c-r0.cortexa7hf_neon_vfpv4\nlibqt5sensors-qmlplugins-5.6.0+git0+0b00ee6f6c-r0.cortexa7hf_neon_vfpv4\nlibqt5sensors5-5.6.0+git0+0b00ee6f6c-r0.cortexa7hf_neon_vfpv4\nlibqt5svg-plugins-5.6.0+git0+e02df9c098-r0.cortexa7hf_neon_vfpv4\nlibqt5svg5-5.6.0+git0+e02df9c098-r0.cortexa7hf_neon_vfpv4\nlibqt5xmlpatterns5-5.6.0+git0+5e6acdb2ea-r0.cortexa7hf_neon_vfpv4\npackagegroup-gdp-qt5-1.0-r0.all\npython-pyqt-5.3.1-r1.cortexa7hf_neon_vfpv4\nqtbase-5.6.0+git0+cec15a89d0-r0.cortexa7hf_neon_vfpv4\nqtbase-dev-5.6.0+git0+cec15a89d0-r0.cortexa7hf_neon_vfpv4\nqtbase-fonts-5.6.0+git0+cec15a89d0-r0.cortexa7hf_neon_vfpv4\nqtbase-fonts-pfa-5.6.0+git0+cec15a89d0-r0.cortexa7hf_neon_vfpv4\nqtbase-fonts-pfb-5.6.0+git0+cec15a89d0-r0.cortexa7hf_neon_vfpv4\nqtbase-fonts-qpf-5.6.0+git0+cec15a89d0-r0.cortexa7hf_neon_vfpv4\nqtbase-fonts-ttf-dejavu-5.6.0+git0+cec15a89d0-r0.cortexa7hf_neon_vfpv4\nqtbase-fonts-ttf-vera-5.6.0+git0+cec15a89d0-r0.cortexa7hf_neon_vfpv4\nqtbase-mkspecs-5.6.0+git0+cec15a89d0-r0.cortexa7hf_neon_vfpv4\nqtbase-plugins-5.6.0+git0+cec15a89d0-r0.cortexa7hf_neon_vfpv4\nqtdeclarative-5.6.0+git0+26ff8f9029-r0.cortexa7hf_neon_vfpv4\nqtdeclarative-plugins-5.6.0+git0+26ff8f9029-r0.cortexa7hf_neon_vfpv4\nqtdeclarative-qmlplugins-5.6.0+git0+26ff8f9029-r0.cortexa7hf_neon_vfpv4\nqtgraphicaleffects-qmlplugins-5.6.0+git0+6523d7c484-r0.cortexa7hf_neon_vfpv4\nqtlocation-5.6.0+git0+d1f66746ab-r0.cortexa7hf_neon_vfpv4\nqtlocation-plugins-5.6.0+git0+d1f66746ab-r0.cortexa7hf_neon_vfpv4\nqtlocation-qmlplugins-5.6.0+git0+d1f66746ab-r0.cortexa7hf_neon_vfpv4\nqtquickcontrols-qmlplugins-5.6.0+git0+01e52200e2-r0.cortexa7hf_neon_vfpv4\nqtscript-5.6.0+git0+b16873afea-r0.cortexa7hf_neon_vfpv4\nqtwayland-5.6.0+git0+26e27845a4-r0.cortexa7hf_neon_vfpv4\nqtwayland-plugins-5.6.0+git0+26e27845a4-r0.cortexa7hf_neon_vfpv4\nqtwebkit-5.6.0+git0+71136c9621-r0.cortexa7hf_neon_vfpv4\nqtwebkit-qmlplugins-5.6.0+git0+71136c9621-r0.cortexa7hf_neon_vfpv4\nroot@raspberrypi3:~#\n</code></pre>\n<h3 id=\"see-also\">See also</h3>\n<ul>\n<li><a href=\"https://at.projects.genivi.org/wiki/x/aoCw\">GENIVI Development Platform</a></li>\n<li><a href=\"https://at.projects.genivi.org/wiki/x/fomw\">Raspberry Pi 2 and 3 setup and software installation</a></li>\n</ul>\n<!-- markdown-link-check-enable -->\n<!-- EOF -->\n"},"config":{"title":"gmacario.github.io","description":"Gianpaolo Macario's public rants","social":{"github":{"name":"gmacario","link":"https://github.com/gmacario"},"twitter":{"name":"gpmacario","link":"https://www.twitter.com/gpmacario"}}}},"__N_SSG":true}