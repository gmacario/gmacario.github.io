{"pageProps":{"post":{"title":"Inspecting the Linux configuration of my Arduino YUN","content":"<!-- markdown-link-check-disable -->\n\n<p>Let us get familiar with my brand new <a href=\"http://arduino.cc/en/Main/ArduinoBoardYun\">Arduino Yun</a>, focusing on the Linux side of it.</p>\n<p>Read <a href=\"http://arduino.cc/en/Guide/ArduinoYun\">Guide to the Arduino YÃºn</a></p>\n<h2 id=\"configure-networking-on-my-arduino-yun\">Configure networking on my Arduino Yun</h2>\n<p>Plug the Ethernet cable to to home router.</p>\n<p>Power on Yun by connecing a +5Vdc power source to the MicroUSB port - you may just use a USB-to-MicroUSB cable then hook it to your laptop, or a powerbank.</p>\n<p>When the white LED is turned on, browse Wi-Fi networks on your laptop.</p>\n<p>Connect to Wi-Fi network &quot;Arduino-Yun-90A2DAF30C7B&quot; (the second part of the SSID corresponds to the MAC address of the WiFi transceiver on your Yun).</p>\n<p>Browse <a href=\"http://arduino.local/\">http://arduino.local/</a></p>\n<ul>\n<li>Default password: <code>arduino</code></li>\n</ul>\n<p>You may then configure the network to connect to an existing Wi-Fi access point, or alternatively use the wired Ethernet.</p>\n<p>One the networking on your Yun is properly configured, you may login to it via SSH and get a shell.</p>\n<h2 id=\"login-via-ssh-to-my-yun\">Login via SSH to my YUN</h2>\n<pre><code class=\"language-sh\">$ ssh root@arduino.local\nroot@arduino.local&#39;s password:\n\n\nBusyBox v1.19.4 (2014-04-10 11:08:41 CEST) built-in shell (ash)\nEnter &#39;help&#39; for a list of built-in commands.\n\n_______                     ________        __\n|       |.-----.-----.-----.|  |  |  |.----.|  |_\n|   -   ||  _  |  -__|     ||  |  |  ||   _||   _|\n|_______||   __|_____|__|__||________||__|  |____|\n|__| W I R E L E S S   F R E E D O M\n-----------------------------------------------------\n\n\nroot@Arduino:~#\n</code></pre>\n<p>Once you have successfully logged into your YUN, you may inspect the software configuration of the <a href=\"http://www.linino.org/\">Linino</a> Linux distribution running on the Atheros AR 9331 chipset.</p>\n<h3 id=\"cat-proccpuinfo\">cat /proc/cpuinfo</h3>\n<pre><code class=\"language-sh\">root@Arduino:~# cat /proc/cpuinfo\nsystem type             : Atheros AR9330 rev 1\nmachine                 : Arduino Yun\nprocessor               : 0\ncpu model               : MIPS 24Kc V7.4\nBogoMIPS                : 265.42\nwait instruction        : yes\nmicrosecond timers      : yes\ntlb_entries             : 16\nextra interrupt vector  : yes\nhardware watchpoint     : yes, count: 4, address/irw mask: [0x0000, 0x0a00, 0x02a0, 0x0220]\nASEs implemented        : mips16\nshadow register sets    : 1\nkscratch registers      : 0\ncore                    : 0\nVCED exceptions         : not available\nVCEI exceptions         : not available\n\nroot@Arduino:~#\n</code></pre>\n<h3 id=\"cat-procversion\">cat /proc/version</h3>\n<pre><code class=\"language-sh\">root@Arduino:~# cat /proc/version\nLinux version 3.3.8 (jenkins@jenkins) (gcc version 4.6.3 20120201 (prerelease) (Linaro GCC 4.6-2012.02) ) #1 Fri Apr 11 07:16:38 CEST 2014\nroot@Arduino:~#\n</code></pre>\n<h3 id=\"df--h\">df -h</h3>\n<pre><code class=\"language-sh\">root@Arduino:~# df -h\nFilesystem                Size      Used Available Use% Mounted on\nrootfs                    7.0M    360.0K      6.6M   5% /\n/dev/root                 7.5M      7.5M         0 100% /rom\ntmpfs                    29.8M    148.0K     29.7M   0% /tmp\ntmpfs                   512.0K         0    512.0K   0% /dev\n/dev/mtdblock3            7.0M    360.0K      6.6M   5% /overlay\noverlayfs:/overlay        7.0M    360.0K      6.6M   5% /\nroot@Arduino:~#\n</code></pre>\n<h3 id=\"ls--la\">ls -la</h3>\n<pre><code class=\"language-sh\">root@Arduino:~# ls -la /\ndrwxr-xr-x    1 root     root             0 Sep  8  2011 .\ndrwxr-xr-x    1 root     root             0 Sep  8  2011 ..\n-rw-r--r--    1 root     root            33 Jan  1  1970 .extroot.md5sum\ndrwx------    2 root     root             0 Sep  8  2011 .gnupg\ndrwxr-xr-x    2 root     root           719 Apr 17  2014 bin\ndrwxr-xr-x    7 root     root          1260 Sep  8  2011 dev\ndrwxr-xr-x    1 root     root             0 Sep  8  2011 etc\ndrwxr-xr-x   14 root     root           747 Feb 18  2014 lib\ndrwxr-xr-x    1 root     root             0 Sep  8  2011 mnt\ndrwxr-xr-x    6 root     root             0 Sep  8  2011 overlay\ndr-xr-xr-x   61 root     root             0 Jan  1  1970 proc\ndrwxr-xr-x   16 root     root           235 Apr 17  2014 rom\ndrwxr-xr-x    2 root     root             3 Apr 11  2014 root\ndrwxr-xr-x    2 root     root           735 Apr 17  2014 sbin\ndrwxr-xr-x   11 root     root             0 Jan  1  1970 sys\ndrwxrwxrwt   15 root     root           480 Jan 18 20:59 tmp\ndrwxr-xr-x    7 root     root            89 Apr 11  2014 usr\nlrwxrwxrwx    1 root     root             4 Apr 17  2014 var -&gt; /tmp\ndrwxr-xr-x    5 root     root            99 Feb 18  2014 www\nroot@Arduino:~#\n</code></pre>\n<h3 id=\"cat-extrootmd5sum\">cat /.extroot.md5sum</h3>\n<pre><code class=\"language-sh\">root@Arduino:~# cat /.extroot.md5sum\n6e17e158dbfa1ea4da2e3f90c2819ca6\nroot@Arduino:~#\n</code></pre>\n<h3 id=\"lsusb\">lsusb</h3>\n<pre><code class=\"language-sh\">root@Arduino:~# lsusb\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 001 Device 002: ID 058f:6254 Alcor Micro Corp. USB Hub\nBus 001 Device 003: ID 058f:6366 Alcor Micro Corp. Multi Flash Reader\nroot@Arduino:~#\n</code></pre>\n<h3 id=\"uci-show\">uci show</h3>\n<pre><code class=\"language-sh\">root@Arduino:~# uci show\narduino.@arduino[0]=arduino\narduino.@arduino[0].password=775e9f944188a7bcb36e9ca5dc51672b44bcceeb7d56d89dfb914eb3a1ff2d69\narduino.@arduino[0].secure_rest_api=true\narduino.radio0=wifi-device\narduino.@wifi-iface[0]=wifi-iface\narduino.lan=interface\ndhcp.@dnsmasq[0]=dnsmasq\ndhcp.@dnsmasq[0].domainneeded=1\ndhcp.@dnsmasq[0].boguspriv=1\ndhcp.@dnsmasq[0].filterwin2k=0\ndhcp.@dnsmasq[0].localise_queries=1\ndhcp.@dnsmasq[0].rebind_protection=1\ndhcp.@dnsmasq[0].rebind_localhost=1\ndhcp.@dnsmasq[0].local=/lan/\ndhcp.@dnsmasq[0].domain=lan\ndhcp.@dnsmasq[0].expandhosts=1\ndhcp.@dnsmasq[0].nonegcache=0\ndhcp.@dnsmasq[0].authoritative=1\ndhcp.@dnsmasq[0].readethers=1\ndhcp.@dnsmasq[0].leasefile=/tmp/dhcp.leases\ndhcp.@dnsmasq[0].resolvfile=/tmp/resolv.conf.auto\ndhcp.lan=dhcp\ndhcp.lan.interface=lan\ndhcp.lan.start=100\ndhcp.lan.limit=150\ndhcp.lan.leasetime=12h\ndhcp.wan=dhcp\ndhcp.wan.interface=wan\ndhcp.wan.ignore=1\ndropbear.@dropbear[0]=dropbear\ndropbear.@dropbear[0].PasswordAuth=on\ndropbear.@dropbear[0].RootPasswordAuth=on\ndropbear.@dropbear[0].Port=22\nfirewall.@defaults[0]=defaults\nfirewall.@defaults[0].syn_flood=1\nfirewall.@defaults[0].input=ACCEPT\nfirewall.@defaults[0].output=ACCEPT\nfirewall.@defaults[0].forward=REJECT\nfirewall.@zone[0]=zone\nfirewall.@zone[0].name=lan\nfirewall.@zone[0].network=lan\nfirewall.@zone[0].input=ACCEPT\nfirewall.@zone[0].output=ACCEPT\nfirewall.@zone[0].forward=REJECT\nfirewall.@zone[1]=zone\nfirewall.@zone[1].name=wan\nfirewall.@zone[1].network=wan\nfirewall.@zone[1].input=ACCEPT\nfirewall.@zone[1].output=ACCEPT\nfirewall.@zone[1].forward=REJECT\nfstab.automount=global\nfstab.automount.from_fstab=1\nfstab.automount.anon_mount=1\nfstab.autoswap=global\nfstab.autoswap.from_fstab=1\nfstab.autoswap.anon_swap=0\nluci.main=core\nluci.main.lang=auto\nluci.main.mediaurlbase=/luci-static/openwrt.org\nluci.main.resourcebase=/luci-static/resources\nluci.flash_keep=extern\nluci.flash_keep.uci=/etc/config/\nluci.flash_keep.dropbear=/etc/dropbear/\nluci.flash_keep.openvpn=/etc/openvpn/\nluci.flash_keep.passwd=/etc/passwd\nluci.flash_keep.opkg=/etc/opkg.conf\nluci.flash_keep.firewall=/etc/firewall.user\nluci.flash_keep.uploads=/lib/uci/upload/\nluci.languages=internal\nluci.languages.en=English\nluci.sauth=internal\nluci.sauth.sessionpath=/tmp/luci-sessions\nluci.sauth.sessiontime=3600\nluci.ccache=internal\nluci.ccache.enable=1\nluci.themes=internal\nluci.themes.Bootstrap=/luci-static/bootstrap\nluci.themes.OpenWrt=/luci-static/openwrt.org\nnetwork.loopback=interface\nnetwork.loopback.ifname=lo\nnetwork.loopback.proto=static\nnetwork.loopback.ipaddr=127.0.0.1\nnetwork.loopback.netmask=255.0.0.0\nnetwork.lan=interface\nnetwork.lan.proto=static\nnetwork.lan.ipaddr=192.168.240.1\nnetwork.lan.netmask=255.255.255.0\nnetwork.wan=interface\nnetwork.wan.ifname=eth1\nnetwork.wan.proto=dhcp\nnetwork.wan.metric=10\nsystem.@system[0]=system\nsystem.@system[0].hostname=Arduino\nsystem.@system[0].timezone=UTC\nsystem.ntp=timeserver\nsystem.ntp.server=0.openwrt.pool.ntp.org 1.openwrt.pool.ntp.org 2.openwrt.pool.ntp.org 3.openwrt.pool.ntp.org\nsystem.ntp.enable_server=0\nsystem.@led[0]=led\nsystem.@led[0].default=0\nucitrack.@network[0]=network\nucitrack.@network[0].init=network\nucitrack.@network[0].affects=dhcp radvd\nucitrack.@wireless[0]=wireless\nucitrack.@wireless[0].affects=network\nucitrack.@firewall[0]=firewall\nucitrack.@firewall[0].init=firewall\nucitrack.@firewall[0].affects=luci-splash qos miniupnpd\nucitrack.@olsr[0]=olsr\nucitrack.@olsr[0].init=olsrd\nucitrack.@dhcp[0]=dhcp\nucitrack.@dhcp[0].init=dnsmasq\nucitrack.@dropbear[0]=dropbear\nucitrack.@dropbear[0].init=dropbear\nucitrack.@httpd[0]=httpd\nucitrack.@httpd[0].init=httpd\nucitrack.@fstab[0]=fstab\nucitrack.@fstab[0].init=fstab\nucitrack.@qos[0]=qos\nucitrack.@qos[0].init=qos\nucitrack.@system[0]=system\nucitrack.@system[0].init=led\nucitrack.@system[0].affects=luci_statistics\nucitrack.@luci_splash[0]=luci_splash\nucitrack.@luci_splash[0].init=luci_splash\nucitrack.@upnpd[0]=upnpd\nucitrack.@upnpd[0].init=miniupnpd\nucitrack.@ntpclient[0]=ntpclient\nucitrack.@ntpclient[0].init=ntpclient\nucitrack.@samba[0]=samba\nucitrack.@samba[0].init=samba\nucitrack.@tinyproxy[0]=tinyproxy\nucitrack.@tinyproxy[0].init=tinyproxy\nucitrack.@6relayd[0]=6relayd\nucitrack.@6relayd[0].init=6relayd\nuhttpd.main=uhttpd\nuhttpd.main.listen_http=0.0.0.0:80\nuhttpd.main.listen_https=0.0.0.0:443\nuhttpd.main.home=/www\nuhttpd.main.rfc1918_filter=0\nuhttpd.main.max_requests=2\nuhttpd.main.cert=/etc/uhttpd.crt\nuhttpd.main.key=/etc/uhttpd.key\nuhttpd.main.cgi_prefix=/cgi-bin\nuhttpd.main.script_timeout=60\nuhttpd.main.network_timeout=30\nuhttpd.main.tcp_keepalive=1\nuhttpd.px5g=cert\nuhttpd.px5g.days=36500\nuhttpd.px5g.bits=1024\nuhttpd.px5g.country=IT\nuhttpd.px5g.state=Turin\nuhttpd.px5g.location=Turin\nuhttpd.px5g.commonname=Arduino LLC\nwireless.radio0=wifi-device\nwireless.radio0.type=mac80211\nwireless.radio0.channel=11\nwireless.radio0.hwmode=11ng\nwireless.radio0.path=platform/ar933x_wmac\nwireless.radio0.htmode=HT20\nwireless.radio0.ht_capab=SHORT-GI-20 SHORT-GI-40 RX-STBC1 DSSS_CCK-40\nwireless.radio0.disabled=0\nwireless.@wifi-iface[0]=wifi-iface\nwireless.@wifi-iface[0].device=radio0\nwireless.@wifi-iface[0].network=lan\nwireless.@wifi-iface[0].mode=ap\nwireless.@wifi-iface[0].encryption=none\nwireless.@wifi-iface[0].ssid=Arduino Yun-90A2DAF30C7B\nroot@Arduino:~#\n</code></pre>\n<p>We have a total of 167 configuration entries</p>\n<pre><code class=\"language-sh\">root@Arduino:~# uci show | wc -l\n167\nroot@Arduino:~#\n</code></pre>\n<!-- markdown-link-check-enable -->\n<!-- EOF -->\n"},"config":{"title":"gmacario.github.io","description":"Gianpaolo Macario's public rants","social":{"github":{"name":"gmacario","link":"https://github.com/gmacario"},"twitter":{"name":"gpmacario","link":"https://www.twitter.com/gpmacario"}}}},"__N_SSG":true}