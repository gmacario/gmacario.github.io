{"pageProps":{"post":{"title":"Running a Yocto image inside VirtualBox","content":"<!-- markdown-link-check-disable -->\n\n<p>I managed to have a Yocto image boot inside <a href=\"http://www.virtualbox.org/\">Oracle VirtualBox</a> by performing the following steps.</p>\n<p>Tested with <code>core-image-minimal-qemux86-64.vmdk</code></p>\n<p>The Yocto project provides support for building VMDK (VMware Disk) images, which are also recognized by VirtualBox.</p>\n<p>The support for building native VDI (VirtualBox Disk Image) was added after the release 1.8 (fido) of Yocto project which I tested when preparing this article.</p>\n<h3 id=\"building-a-vmdk-image\">Building a VMDK image</h3>\n<p>Build a <code>*-qemux86-64.vmdk</code> image from branch <code>dev-qemux86-64</code> of <a href=\"https://github.com/gmacario/genivi-demo-platform\">https://github.com/gmacario/genivi-demo-platform</a></p>\n<pre><code>$ git checkout -b dev-qemux86-64 https://github.com/gmacario/genivi-demo-platform\n$ cd genivi-demo-platform\n$ source init.sh\n$ bitbake core-image-minimal\n</code></pre>\n<p>The important configuration to be added to <code>conf/local.conf</code> is the following line:</p>\n<pre><code>IMAGE_FSTYPES += &quot;vmdk&quot;\n</code></pre>\n<h3 id=\"running-the-vmdk-image\">Running the VMDK image</h3>\n<p>From the Oracle VM VirtualBox Manager, create a new Virtual Machine</p>\n<p>Name and operating system</p>\n<ul>\n<li>Name: core-image-minimal-qemux86-64</li>\n<li>Type: Linux</li>\n<li>Version: Other Linux (64-bit)</li>\n</ul>\n<p>Click &quot;Next&quot;</p>\n<p>Memory size</p>\n<ul>\n<li>Select: 1024 MB</li>\n</ul>\n<p>Click &quot;Next&quot;</p>\n<p>Hard disk</p>\n<ul>\n<li>Select: Do not add a virtual hard disk</li>\n</ul>\n<p>Select &quot;Create&quot;, then &quot;Continue&quot;</p>\n<p>From the Oracle VM VirtualBox Manager, change VM settings</p>\n<p>Under Storage &gt; Add new storage controller &gt; Add SATA Controller</p>\n<p>Under Storage &gt; Controller: SATA &gt; Add Hard Disk</p>\n<ul>\n<li>Select: Choose existing disk</li>\n<li>Virtual hard disk file: .../core-image-minimal-qemux86-64.vmdk</li>\n</ul>\n<p>Click &quot;OK&quot;</p>\n<p>From the Oracle VM VirtualBox Manager, start the VM</p>\n<p>Result:</p>\n<p><img src=\"https://cloud.githubusercontent.com/assets/75182/11164285/225eebb2-8aec-11e5-89b6-685f0b0fd9a2.PNG\" alt=\"capture-20151114-1623\"></p>\n<p>You may then login as user <code>root</code> (there is no default password)</p>\n<!-- markdown-link-check-enable -->\n<!-- EOF -->\n"},"config":{"title":"gmacario.github.io","description":"Gianpaolo Macario's public rants","social":{"github":{"name":"gmacario","link":"https://github.com/gmacario"},"twitter":{"name":"gpmacario","link":"https://www.twitter.com/gpmacario"}}}},"__N_SSG":true}