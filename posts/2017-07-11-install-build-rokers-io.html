<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><meta name="description" content="Gianpaolo Macario&#x27;s public rants"/><title>Installing build.rokers.io</title><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/08fafe92abad983f984c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08fafe92abad983f984c.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.1a5e6c0bcaecf178eee2.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.a817edd9b2693fcc6af8.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-daaff4f95c13923f49a5.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-041b1432faef8bf5f62a.js" as="script"/><link rel="preload" href="/_next/static/chunks/b38cc82cec06c0ea8b096def674947a423bb2764.260eb1ac110a53311620.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/posts/%5Bslug%5D-1c9a30b06d2f3be2ac9c.js" as="script"/></head><body><div id="__next"><main class="h-screen flex flex-col"><header class="py-3 fixed top-0 z-50 flex flex-wrap justify-between w-screen bg-white border-b border-gray-200"><div class="mx-3 py-2 px-4  font-bold text-indigo-500">Gianpaolo Macario&#x27;s blog</div><div class="justify-end"><a class="mr-6 py-2 px-4 inline-block rounded h-full text-indigo-500 hover:text-white hover:bg-indigo-500" href="/">Home</a><a class="mr-6 py-2 px-4 inline-block rounded h-full text-indigo-500 hover:text-white hover:bg-indigo-500" href="/posts">Posts</a></div></header><div class="pt-28 mx-auto w-5/6 break-words flex flex-grow prose prose-indigo hover:prose-black md:prose-lg lg:prose-xl"><article><h1>Installing build.rokers.io</h1><div class="prose prose-indigo hover:prose-black md:prose-lg lg:prose-xl"><!-- markdown-link-check-disable -->

<p>This blog post details the steps I made to install the <a href="https://build.rokers.io/">build.rokers.io</a> server on <a href="https://aws.amazon.com/">AWS</a> using <a href="https://www.docker.com/">Docker</a> and <a href="https://github.com/gmacario/easy-jenkins">easy-jenkins</a>.</p>
<h3 id="prepare-the-aws-instance">Prepare the AWS instance</h3>
<!-- 2017-06-30 18:00 CEST -->

<p>Login to <a href="https://aws.amazon.com/">https://aws.amazon.com/</a> console using your credentials</p>
<ul>
<li>Create a <code>.pem</code> to connect to VM <code>build.rokers.io</code> and slaves</li>
<li>Create EC2 instance for <code>build.rokers.io</code><ul>
<li>AWS EC2 c4.2xlarge (8 vCPUs, 15 GiB Memory, Instance Storage: 8 GB)</li>
<li>Add EBS 300 GB (to be mounted as <code>/var</code>)</li>
</ul>
</li>
<li>Configure firewall on <code>build.rokers.io</code><ul>
<li>Open incoming ports 22/tcp, 80/tcp, 443/tcp</li>
</ul>
</li>
<li>Create EBS volume for secondary volume <code>/var</code></li>
<li>Register DNS <code>build.rokers.io</code></li>
</ul>
<p>Connect to AWS instance via SSH:</p>
<pre><code>ssh -i ~/.ssh/rokers_genivi_dev.pem ubuntu@build.rokers.io
</code></pre>
<p>Type the following commands to inspect the HW/SW configuration of the master node:</p>
<pre><code>cat /proc/cpuinfo
cat /proc/meminfo
df -h
sudo fdisk -l
cat /etc/os-release
</code></pre>
<p>Verify that the following requisites are met:</p>
<ul>
<li>CPU: 8 cores</li>
<li>RAM: 16 GB</li>
<li>Root Volume: 8 GB</li>
<li>One additional 300 GB volume</li>
<li>OS: Ubuntu 16.04.2 LTS 64-bit</li>
</ul>
<h3 id="prepare-the-guest-os-on-buildrokersio">Prepare the guest OS on build.rokers.io</h3>
<p>Logged as <a href="mailto:&#117;&#98;&#117;&#110;&#x74;&#117;&#x40;&#98;&#117;&#x69;&#x6c;&#100;&#46;&#114;&#111;&#x6b;&#101;&#x72;&#115;&#46;&#105;&#111;">&#117;&#98;&#117;&#110;&#x74;&#117;&#x40;&#98;&#117;&#x69;&#x6c;&#100;&#46;&#114;&#111;&#x6b;&#101;&#x72;&#115;&#46;&#105;&#111;</a> and make sure that the guest OS is up-to-date</p>
<pre><code>sudo apt update &amp;&amp; sudo apt dist-upgrade
</code></pre>
<p>Now install a few additional Ubuntu packages that will be needed to operate the server:</p>
<pre><code>sudo apt install byobu git htop mc
</code></pre>
<p>Login as root</p>
<pre><code>sudo -i
</code></pre>
<p>Logged as <a href="mailto:&#x72;&#x6f;&#111;&#x74;&#x40;&#x62;&#x75;&#x69;&#x6c;&#100;&#x2e;&#x72;&#111;&#x6b;&#101;&#x72;&#115;&#46;&#x69;&#111;">&#x72;&#x6f;&#111;&#x74;&#x40;&#x62;&#x75;&#x69;&#x6c;&#100;&#x2e;&#x72;&#111;&#x6b;&#101;&#x72;&#115;&#46;&#x69;&#111;</a>, format the secondary volume and mount it as <code>/var</code></p>
<p><strong>NOTE</strong>: You may need to stop a few services before being able to rename <code>/var</code></p>
<pre><code>fdisk /dev/xvdf
mkfs.ext4 -L var /dev/xvdf1
mv /var /var.OLD
echo &#39;LABEL=var    /var/lib/docker  ext4    defaults       0 1&#39; &gt;&gt;/etc/fstab
mount -a
cd /var.OLD &amp;&amp; cp -av . /var
</code></pre>
<p>Create Swap Space</p>
<pre><code>dd if=/dev/zero of=/var/swapfile.dat bs=1M count=16384
mkswap /var/swapfile.dat
chmod 600 /var/swapfile.dat
echo &#39;/var/swapfile.dat    swap    swap    defaults    0    0&#39; &gt;&gt;/etc/fstab
swapon -a
</code></pre>
<p>Reboot to make sure all the changes are applied</p>
<h3 id="install-docker-and-docker-compose">Install Docker and docker-compose</h3>
<p>Logged as <a href="mailto:&#x75;&#x62;&#x75;&#110;&#x74;&#x75;&#x40;&#x62;&#117;&#x69;&#108;&#x64;&#46;&#x72;&#x6f;&#107;&#x65;&#x72;&#115;&#x2e;&#x69;&#111;">&#x75;&#x62;&#x75;&#110;&#x74;&#x75;&#x40;&#x62;&#117;&#x69;&#108;&#x64;&#46;&#x72;&#x6f;&#107;&#x65;&#x72;&#115;&#x2e;&#x69;&#111;</a>, install Docker</p>
<pre><code>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
sudo add-apt-repository &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable&quot;
sudo apt-get update
apt-cache policy docker-ce
sudo apt-get install -y docker-ce
sudo systemctl status docker
</code></pre>
<p>Logged as <a href="mailto:&#x75;&#x62;&#117;&#110;&#116;&#117;&#64;&#x62;&#117;&#x69;&#108;&#100;&#46;&#114;&#111;&#107;&#101;&#114;&#115;&#x2e;&#105;&#111;">&#x75;&#x62;&#117;&#110;&#116;&#117;&#64;&#x62;&#117;&#x69;&#108;&#100;&#46;&#114;&#111;&#107;&#101;&#114;&#115;&#x2e;&#105;&#111;</a>, allow user <code>ubuntu</code> to run docker without sudo</p>
<pre><code>sudo usermod -aG docker ${USER}
</code></pre>
<p>Logout and log to apply the changes</p>
<p>Logged as <a href="mailto:&#117;&#98;&#117;&#x6e;&#x74;&#x75;&#64;&#x62;&#117;&#105;&#x6c;&#x64;&#x2e;&#114;&#111;&#107;&#x65;&#114;&#115;&#46;&#x69;&#x6f;">&#117;&#98;&#117;&#x6e;&#x74;&#x75;&#64;&#x62;&#117;&#105;&#x6c;&#x64;&#x2e;&#114;&#111;&#107;&#x65;&#114;&#115;&#46;&#x69;&#x6f;</a>, install docker-compose</p>
<pre><code>mkdir -p ~/Downloads &amp;&amp; cd ~/Downloads
curl -L https://github.com/docker/compose/releases/download/1.14.0/docker-compose-`uname -s`-`uname -m` &gt;docker-compose
sudo install -m755 docker-compose /usr/local/bin/
docker-compose --version
</code></pre>
<h3 id="install-easy-jenkins">Install easy-jenkins</h3>
<p>Logged as <a href="mailto:&#x75;&#x62;&#117;&#110;&#x74;&#117;&#64;&#x62;&#117;&#x69;&#x6c;&#x64;&#46;&#x72;&#111;&#107;&#x65;&#114;&#115;&#46;&#105;&#x6f;">&#x75;&#x62;&#117;&#110;&#x74;&#117;&#64;&#x62;&#117;&#x69;&#x6c;&#x64;&#46;&#x72;&#111;&#107;&#x65;&#114;&#115;&#46;&#105;&#x6f;</a>, install and run easy-jenkins</p>
<pre><code>mkdir -p ~/github/gmacario &amp;&amp; cd ~/github/gmacario
[ ! -e easy-jenkins ] &amp;&amp; git clone https://github.com/gmacario/easy-jenkins
cd ~/github/gmacario/easy-jenkins &amp;&amp; git pull --all --prune
./runme.sh
</code></pre>
<p>Result:</p>
<pre><code class="language-shell">ubuntu@ip-172-31-26-128:~/github/gmacario/easy-jenkins$ ./runme.sh
WARNING: Cannot find docker-machine - assuming environment variables are already defined
Building myjenkins
Step 1/13 : FROM jenkins:2.60.1
...
Successfully tagged easyjenkins_myjenkins:latest
WARNING: Image for service myjenkins was built because it did not already exist. To rebuild this image you must use `docker-compose build` or `docker-compose up --build`.
Creating easyjenkins_myjenkins_1 ...
Creating easyjenkins_myjenkins_1 ... done
INFO: Initial administrator password: 74eb700cb15d4ce99cc47a60dd694f2d
ubuntu@ip-172-31-26-128:~/github/gmacario/easy-jenkins$
</code></pre>
<h3 id="expose-jenkins-through-https">Expose Jenkins through https</h3>
<!-- 2017-07-04 06:30 CEST -->

<p>Logged as <a href="mailto:&#117;&#x62;&#117;&#110;&#x74;&#117;&#x40;&#98;&#x75;&#x69;&#108;&#x64;&#46;&#x72;&#111;&#x6b;&#101;&#114;&#x73;&#46;&#x69;&#111;">&#117;&#x62;&#117;&#110;&#x74;&#117;&#x40;&#98;&#x75;&#x69;&#108;&#x64;&#46;&#x72;&#111;&#x6b;&#101;&#114;&#x73;&#46;&#x69;&#111;</a>, clone the following gist</p>
<pre><code class="language-shell">mkdir -p ~/gist.github.com/gmacario &amp;&amp; cd ~/gist.github.com/gmacario
[ ! -e https-build-rokers-io ] &amp;&amp; git clone \
    https://gist.github.com/gmacario/2c11a927bfb9fa33326bd20fe28a85c7 \
    https-build-rokers-io
cd ~/gist.github.com/gmacario/https-build-rokers-io &amp;&amp; git pull --all --prune
docker-compose up -d
</code></pre>
<p><strong>TODO</strong>: Integrate gist into easy-jenkins</p>
<p>The Jenkins dashboard should be now be accessible as <a href="https://build.rokers.io/">https://build.rokers.io/</a>.</p>
<h4 id="alternative-tunnel-through-ssh">Alternative: Tunnel through SSH</h4>
<p>Since port 9080/tcp on build.rokers.io is firewalled, type the following commands on your laptop to create a SSH tunnel to <a href="http://build.rokers.io:9080/">http://build.rokers.io:9080/</a></p>
<pre><code class="language-shell">ssh \
    -i ~/.ssh/rokers_genivi_dev.pem \
    -L 29080:localhost:9080 \
    ubuntu@build.rokers.io
</code></pre>
<p>You will then be able to access the Jenkins dashboard as <a href="http://localhost:29080/">http://localhost:29080/</a>.</p>
<p><strong>NOTE</strong>: Although SSH tunnel may be sufficient for most of the use-cases, in order to use GitHub based authentication you need to expose the Jenkins Dashboard through https as explained in the section above.</p>
<h3 id="complete-setup-of-jenkins">Complete setup of Jenkins</h3>
<p>Now browse <code>${JENKINS_URL}</code> (<a href="https://build.rokers.io/">https://build.rokers.io/</a> or <a href="http://localhost:29080/">http://localhost:29080/</a> if the SSH tunnel was used instead) and complete the configuration of easy-jenkins:</p>
<ul>
<li>Paste the initial admin password (you should find it displayed on the terminal where you launched <code>./runme.sh</code>)</li>
<li>Click <strong>Install suggested plugins</strong></li>
<li>Create First Admin User, then click <strong>Save and Finish</strong></li>
<li>If requested, click <strong>Restart</strong> to restart Jenkins</li>
</ul>
<p>Reload the page in the browser, then login to Jenkins as user <code>admin</code> using the credentials you have created just before.</p>
<ul>
<li>Click on <strong>Build Executor Status</strong></li>
<li>Configure node <code>master</code><ul>
<li>Number of executors: <code>4</code> (was 2)</li>
<li>Labels: <code>docker</code></li>
<li>Click <strong>Save</strong></li>
</ul>
</li>
</ul>
<p>Browse <code>${JENKINS_URL}</code> &gt; Manage Jenkins &gt; Configure System</p>
<ul>
<li><p>Jenkins Location</p>
<ul>
<li>Jenkins URL: <a href="https://build.rokers.io/">https://build.rokers.io/</a></li>
<li>System Admin e-mail address: (fill in the administrative email provided during the creation of Jenkins user <code>admin</code>)</li>
</ul>
</li>
<li><p>GitHub Pull Requests</p>
<ul>
<li>Jenkins URL: <a href="https://build.rokers.io/">https://build.rokers.io/</a></li>
</ul>
</li>
</ul>
<p><strong>TODO</strong>: Configure mail server used by Jenkins - see <a href="http://www.360logica.com/blog/email-notification-in-jenkins/">http://www.360logica.com/blog/email-notification-in-jenkins/</a></p>
<h3 id="configure-login-to-jenkins-using-github-credentials">Configure login to Jenkins using GitHub credentials</h3>
<!-- 2017-07-06 14:00 CEST -->

<p>Prerequisites: Jenkins Dashboard available as <a href="https://build.rokers.io/">https://build.rokers.io/</a></p>
<p>Follow instructions at <a href="https://github.com/gmacario/easy-jenkins/blob/master/docs/configuring-access-control-via-github.md">https://github.com/gmacario/easy-jenkins/blob/master/docs/configuring-access-control-via-github.md</a></p>
<p>Visit <a href="https://github.com/settings/applications/new">https://github.com/settings/applications/new</a> to create a GitHub application registration:</p>
<ul>
<li>Application name: <code>build.rokers.io</code></li>
<li>Homepage URL: <code>https://build.rokers.io</code></li>
<li>Application description: <code>TODO</code></li>
<li>Authorization callback URL: <code>https://build.rokers.io/securityRealm/finishLogin</code></li>
</ul>
<p>then click <strong>Register application</strong></p>
<p>Keep the result page open, and take note of the following values (they will be used to configure the Github Authentication Plugin as explained in the following section)</p>
<ul>
<li>Client ID: xxx</li>
<li>Client Secret: yyy</li>
</ul>
<p>Browse <code>${JENKINS_URL}</code> &gt; Manage Jenkins &gt; Configure Global Security</p>
<ul>
<li>Enable security: Yes<ul>
<li>TCP port for JNLP agents: Fixed: 50000</li>
<li>Disable remember me: No</li>
<li>Access Control<ul>
<li>Security Realm: Github Authentication Plugin<ul>
<li>Global GitHub OAuth Settings<ul>
<li>GitHub Web URI: <code>https://github.com</code></li>
<li>GitHub API URI: <code>https://api.github.com</code></li>
<li>Client ID: xxx (paste the value from the GitHub page above)</li>
<li>Client Secret: yyy (paste the value from the GitHub page above)</li>
<li>OAuth Scope(s): <code>read:org,user:email</code></li>
</ul>
</li>
</ul>
</li>
<li>Authorization: Logged-in users can do anything (See NOTE below)<ul>
<li>Allow anonymous read access: No</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Markup Formatter: Plain text</li>
<li>Prevent Cross Site Request Forgery exploits: Yes</li>
<li>Plugin Manager<ul>
<li>Use browser for metadata download: No</li>
</ul>
</li>
<li>Hidden security warnings<ul>
<li>Enable Slave-&gt;Master Access Control: Yes</li>
</ul>
</li>
</ul>
<p>then click <strong>Save</strong>.</p>
<p><strong>NOTE</strong>: In order to achieve a finer grain of access control choose instead</p>
<ul>
<li>Authorization: Project-based Matrix Authorization Strategy</li>
</ul>
<p>then add each single GitHub user/group you want to enable.</p>
<p><strong>IMPORTANT</strong>: Make sure you give all rights at least to one legitimate user, otherwise after clicking &quot;Save&quot; you will not be able to login any more!</p>
<p>Browse <code>${JENKINS_URL}</code> &gt; Manage Jenkins &gt; Configure Global Security &gt; Security Realm</p>
<h3 id="build-rokers-image-base">Build rokers-image-base</h3>
<!-- 2017-07-11 14:10 CEST -->

<p>Create pipeline for building <code>rokers-image-base</code> from sources:</p>
<ul>
<li>Click <strong>Open Blue Ocean</strong></li>
<li>Click <strong>Create a new Pipeline</strong></li>
<li>Where do you store the code? <strong>Github</strong></li>
<li>Paste your Github access token, then click <strong>Connect</strong></li>
<li>Which organization does the repository belong to? <strong>robotrokers</strong> (if you are not a member of &quot;robotrokers&quot;, choose the organization where your forked project <code>robotrokers/rokers-yocto-distro</code>)</li>
<li>Create a single Pipeline or discover all Pipelines? <strong>New Pipeline</strong></li>
<li>Choose a repository: <strong>rokers-yocto-distro</strong>, then click <strong>Create Pipeline</strong></li>
</ul>
<p>Result: Build SUCCESS (NOTE: It will take about 1h for a scratch build)</p>
<p>To inspect and/or download the generated artifacts:</p>
<ul>
<li>Click <strong>Open Blue Ocean</strong></li>
<li>Select Pipeline &quot;robotrokers / rokers-yocto-distro&quot;</li>
<li>Select Branch &quot;dev-rokers&quot;</li>
<li>Click <strong>Artifacts</strong></li>
</ul>
<!-- markdown-link-check-enable -->
<!-- EOF -->
</div></article></div><footer class="h-auto mt-20 bg-gray-100 justify-between border-t border-gray-200"><div class="pt-6 mx-auto  gap-x-6 w-9/12 flex flex-col prose prose-indigo hover:prose-black md:prose-lg lg:prose-xl"><div class="prose-xl"><p class="">gmacario.github.io</p></div><div class="flex flex-col sm:flex-row flex-wrap justify-between md:justify-start"><p class="mr-12 text-gray-600 prose-sm">gmacario.github.io</p><div class="mr-12 flex flex-col justify-start"><p class="text-gray-600 prose-sm flex flex-row"><svg class="MuiSvgIcon-root mr-2" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 .3a12 12 0 0 0-3.8 23.4c.6.1.8-.3.8-.6v-2c-3.3.7-4-1.6-4-1.6-.6-1.4-1.4-1.8-1.4-1.8-1-.7.1-.7.1-.7 1.2 0 1.9 1.2 1.9 1.2 1 1.8 2.8 1.3 3.5 1 0-.8.4-1.3.7-1.6-2.7-.3-5.5-1.3-5.5-6 0-1.2.5-2.3 1.3-3.1-.2-.4-.6-1.6 0-3.2 0 0 1-.3 3.4 1.2a11.5 11.5 0 0 1 6 0c2.3-1.5 3.3-1.2 3.3-1.2.6 1.6.2 2.8 0 3.2.9.8 1.3 1.9 1.3 3.2 0 4.6-2.8 5.6-5.5 5.9.5.4.9 1 .9 2.2v3.3c0 .3.1.7.8.6A12 12 0 0 0 12 .3"></path></svg><a href="https://github.com/gmacario">gmacario</a></p><p class="text-gray-600 prose-sm flex flex-row"><svg class="MuiSvgIcon-root mr-2" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"></path></svg><a href="https://www.twitter.com/gpmacario">gpmacario</a></p></div><p class="mr-12 text-gray-600 prose-sm">Gianpaolo Macario&#x27;s public rants</p></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Installing build.rokers.io","content":"\u003c!-- markdown-link-check-disable --\u003e\n\n\u003cp\u003eThis blog post details the steps I made to install the \u003ca href=\"https://build.rokers.io/\"\u003ebuild.rokers.io\u003c/a\u003e server on \u003ca href=\"https://aws.amazon.com/\"\u003eAWS\u003c/a\u003e using \u003ca href=\"https://www.docker.com/\"\u003eDocker\u003c/a\u003e and \u003ca href=\"https://github.com/gmacario/easy-jenkins\"\u003eeasy-jenkins\u003c/a\u003e.\u003c/p\u003e\n\u003ch3 id=\"prepare-the-aws-instance\"\u003ePrepare the AWS instance\u003c/h3\u003e\n\u003c!-- 2017-06-30 18:00 CEST --\u003e\n\n\u003cp\u003eLogin to \u003ca href=\"https://aws.amazon.com/\"\u003ehttps://aws.amazon.com/\u003c/a\u003e console using your credentials\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCreate a \u003ccode\u003e.pem\u003c/code\u003e to connect to VM \u003ccode\u003ebuild.rokers.io\u003c/code\u003e and slaves\u003c/li\u003e\n\u003cli\u003eCreate EC2 instance for \u003ccode\u003ebuild.rokers.io\u003c/code\u003e\u003cul\u003e\n\u003cli\u003eAWS EC2 c4.2xlarge (8 vCPUs, 15 GiB Memory, Instance Storage: 8 GB)\u003c/li\u003e\n\u003cli\u003eAdd EBS 300 GB (to be mounted as \u003ccode\u003e/var\u003c/code\u003e)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eConfigure firewall on \u003ccode\u003ebuild.rokers.io\u003c/code\u003e\u003cul\u003e\n\u003cli\u003eOpen incoming ports 22/tcp, 80/tcp, 443/tcp\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eCreate EBS volume for secondary volume \u003ccode\u003e/var\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eRegister DNS \u003ccode\u003ebuild.rokers.io\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eConnect to AWS instance via SSH:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003essh -i ~/.ssh/rokers_genivi_dev.pem ubuntu@build.rokers.io\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eType the following commands to inspect the HW/SW configuration of the master node:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ecat /proc/cpuinfo\ncat /proc/meminfo\ndf -h\nsudo fdisk -l\ncat /etc/os-release\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eVerify that the following requisites are met:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCPU: 8 cores\u003c/li\u003e\n\u003cli\u003eRAM: 16 GB\u003c/li\u003e\n\u003cli\u003eRoot Volume: 8 GB\u003c/li\u003e\n\u003cli\u003eOne additional 300 GB volume\u003c/li\u003e\n\u003cli\u003eOS: Ubuntu 16.04.2 LTS 64-bit\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"prepare-the-guest-os-on-buildrokersio\"\u003ePrepare the guest OS on build.rokers.io\u003c/h3\u003e\n\u003cp\u003eLogged as \u003ca href=\"mailto:\u0026#117;\u0026#98;\u0026#117;\u0026#110;\u0026#x74;\u0026#117;\u0026#x40;\u0026#98;\u0026#117;\u0026#x69;\u0026#x6c;\u0026#100;\u0026#46;\u0026#114;\u0026#111;\u0026#x6b;\u0026#101;\u0026#x72;\u0026#115;\u0026#46;\u0026#105;\u0026#111;\"\u003e\u0026#117;\u0026#98;\u0026#117;\u0026#110;\u0026#x74;\u0026#117;\u0026#x40;\u0026#98;\u0026#117;\u0026#x69;\u0026#x6c;\u0026#100;\u0026#46;\u0026#114;\u0026#111;\u0026#x6b;\u0026#101;\u0026#x72;\u0026#115;\u0026#46;\u0026#105;\u0026#111;\u003c/a\u003e and make sure that the guest OS is up-to-date\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003esudo apt update \u0026amp;\u0026amp; sudo apt dist-upgrade\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow install a few additional Ubuntu packages that will be needed to operate the server:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003esudo apt install byobu git htop mc\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eLogin as root\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003esudo -i\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eLogged as \u003ca href=\"mailto:\u0026#x72;\u0026#x6f;\u0026#111;\u0026#x74;\u0026#x40;\u0026#x62;\u0026#x75;\u0026#x69;\u0026#x6c;\u0026#100;\u0026#x2e;\u0026#x72;\u0026#111;\u0026#x6b;\u0026#101;\u0026#x72;\u0026#115;\u0026#46;\u0026#x69;\u0026#111;\"\u003e\u0026#x72;\u0026#x6f;\u0026#111;\u0026#x74;\u0026#x40;\u0026#x62;\u0026#x75;\u0026#x69;\u0026#x6c;\u0026#100;\u0026#x2e;\u0026#x72;\u0026#111;\u0026#x6b;\u0026#101;\u0026#x72;\u0026#115;\u0026#46;\u0026#x69;\u0026#111;\u003c/a\u003e, format the secondary volume and mount it as \u003ccode\u003e/var\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eNOTE\u003c/strong\u003e: You may need to stop a few services before being able to rename \u003ccode\u003e/var\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003efdisk /dev/xvdf\nmkfs.ext4 -L var /dev/xvdf1\nmv /var /var.OLD\necho \u0026#39;LABEL=var    /var/lib/docker  ext4    defaults       0 1\u0026#39; \u0026gt;\u0026gt;/etc/fstab\nmount -a\ncd /var.OLD \u0026amp;\u0026amp; cp -av . /var\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eCreate Swap Space\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003edd if=/dev/zero of=/var/swapfile.dat bs=1M count=16384\nmkswap /var/swapfile.dat\nchmod 600 /var/swapfile.dat\necho \u0026#39;/var/swapfile.dat    swap    swap    defaults    0    0\u0026#39; \u0026gt;\u0026gt;/etc/fstab\nswapon -a\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eReboot to make sure all the changes are applied\u003c/p\u003e\n\u003ch3 id=\"install-docker-and-docker-compose\"\u003eInstall Docker and docker-compose\u003c/h3\u003e\n\u003cp\u003eLogged as \u003ca href=\"mailto:\u0026#x75;\u0026#x62;\u0026#x75;\u0026#110;\u0026#x74;\u0026#x75;\u0026#x40;\u0026#x62;\u0026#117;\u0026#x69;\u0026#108;\u0026#x64;\u0026#46;\u0026#x72;\u0026#x6f;\u0026#107;\u0026#x65;\u0026#x72;\u0026#115;\u0026#x2e;\u0026#x69;\u0026#111;\"\u003e\u0026#x75;\u0026#x62;\u0026#x75;\u0026#110;\u0026#x74;\u0026#x75;\u0026#x40;\u0026#x62;\u0026#117;\u0026#x69;\u0026#108;\u0026#x64;\u0026#46;\u0026#x72;\u0026#x6f;\u0026#107;\u0026#x65;\u0026#x72;\u0026#115;\u0026#x2e;\u0026#x69;\u0026#111;\u003c/a\u003e, install Docker\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ecurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\nsudo add-apt-repository \u0026quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\u0026quot;\nsudo apt-get update\napt-cache policy docker-ce\nsudo apt-get install -y docker-ce\nsudo systemctl status docker\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eLogged as \u003ca href=\"mailto:\u0026#x75;\u0026#x62;\u0026#117;\u0026#110;\u0026#116;\u0026#117;\u0026#64;\u0026#x62;\u0026#117;\u0026#x69;\u0026#108;\u0026#100;\u0026#46;\u0026#114;\u0026#111;\u0026#107;\u0026#101;\u0026#114;\u0026#115;\u0026#x2e;\u0026#105;\u0026#111;\"\u003e\u0026#x75;\u0026#x62;\u0026#117;\u0026#110;\u0026#116;\u0026#117;\u0026#64;\u0026#x62;\u0026#117;\u0026#x69;\u0026#108;\u0026#100;\u0026#46;\u0026#114;\u0026#111;\u0026#107;\u0026#101;\u0026#114;\u0026#115;\u0026#x2e;\u0026#105;\u0026#111;\u003c/a\u003e, allow user \u003ccode\u003eubuntu\u003c/code\u003e to run docker without sudo\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003esudo usermod -aG docker ${USER}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eLogout and log to apply the changes\u003c/p\u003e\n\u003cp\u003eLogged as \u003ca href=\"mailto:\u0026#117;\u0026#98;\u0026#117;\u0026#x6e;\u0026#x74;\u0026#x75;\u0026#64;\u0026#x62;\u0026#117;\u0026#105;\u0026#x6c;\u0026#x64;\u0026#x2e;\u0026#114;\u0026#111;\u0026#107;\u0026#x65;\u0026#114;\u0026#115;\u0026#46;\u0026#x69;\u0026#x6f;\"\u003e\u0026#117;\u0026#98;\u0026#117;\u0026#x6e;\u0026#x74;\u0026#x75;\u0026#64;\u0026#x62;\u0026#117;\u0026#105;\u0026#x6c;\u0026#x64;\u0026#x2e;\u0026#114;\u0026#111;\u0026#107;\u0026#x65;\u0026#114;\u0026#115;\u0026#46;\u0026#x69;\u0026#x6f;\u003c/a\u003e, install docker-compose\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003emkdir -p ~/Downloads \u0026amp;\u0026amp; cd ~/Downloads\ncurl -L https://github.com/docker/compose/releases/download/1.14.0/docker-compose-`uname -s`-`uname -m` \u0026gt;docker-compose\nsudo install -m755 docker-compose /usr/local/bin/\ndocker-compose --version\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"install-easy-jenkins\"\u003eInstall easy-jenkins\u003c/h3\u003e\n\u003cp\u003eLogged as \u003ca href=\"mailto:\u0026#x75;\u0026#x62;\u0026#117;\u0026#110;\u0026#x74;\u0026#117;\u0026#64;\u0026#x62;\u0026#117;\u0026#x69;\u0026#x6c;\u0026#x64;\u0026#46;\u0026#x72;\u0026#111;\u0026#107;\u0026#x65;\u0026#114;\u0026#115;\u0026#46;\u0026#105;\u0026#x6f;\"\u003e\u0026#x75;\u0026#x62;\u0026#117;\u0026#110;\u0026#x74;\u0026#117;\u0026#64;\u0026#x62;\u0026#117;\u0026#x69;\u0026#x6c;\u0026#x64;\u0026#46;\u0026#x72;\u0026#111;\u0026#107;\u0026#x65;\u0026#114;\u0026#115;\u0026#46;\u0026#105;\u0026#x6f;\u003c/a\u003e, install and run easy-jenkins\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003emkdir -p ~/github/gmacario \u0026amp;\u0026amp; cd ~/github/gmacario\n[ ! -e easy-jenkins ] \u0026amp;\u0026amp; git clone https://github.com/gmacario/easy-jenkins\ncd ~/github/gmacario/easy-jenkins \u0026amp;\u0026amp; git pull --all --prune\n./runme.sh\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eResult:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003eubuntu@ip-172-31-26-128:~/github/gmacario/easy-jenkins$ ./runme.sh\nWARNING: Cannot find docker-machine - assuming environment variables are already defined\nBuilding myjenkins\nStep 1/13 : FROM jenkins:2.60.1\n...\nSuccessfully tagged easyjenkins_myjenkins:latest\nWARNING: Image for service myjenkins was built because it did not already exist. To rebuild this image you must use `docker-compose build` or `docker-compose up --build`.\nCreating easyjenkins_myjenkins_1 ...\nCreating easyjenkins_myjenkins_1 ... done\nINFO: Initial administrator password: 74eb700cb15d4ce99cc47a60dd694f2d\nubuntu@ip-172-31-26-128:~/github/gmacario/easy-jenkins$\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"expose-jenkins-through-https\"\u003eExpose Jenkins through https\u003c/h3\u003e\n\u003c!-- 2017-07-04 06:30 CEST --\u003e\n\n\u003cp\u003eLogged as \u003ca href=\"mailto:\u0026#117;\u0026#x62;\u0026#117;\u0026#110;\u0026#x74;\u0026#117;\u0026#x40;\u0026#98;\u0026#x75;\u0026#x69;\u0026#108;\u0026#x64;\u0026#46;\u0026#x72;\u0026#111;\u0026#x6b;\u0026#101;\u0026#114;\u0026#x73;\u0026#46;\u0026#x69;\u0026#111;\"\u003e\u0026#117;\u0026#x62;\u0026#117;\u0026#110;\u0026#x74;\u0026#117;\u0026#x40;\u0026#98;\u0026#x75;\u0026#x69;\u0026#108;\u0026#x64;\u0026#46;\u0026#x72;\u0026#111;\u0026#x6b;\u0026#101;\u0026#114;\u0026#x73;\u0026#46;\u0026#x69;\u0026#111;\u003c/a\u003e, clone the following gist\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003emkdir -p ~/gist.github.com/gmacario \u0026amp;\u0026amp; cd ~/gist.github.com/gmacario\n[ ! -e https-build-rokers-io ] \u0026amp;\u0026amp; git clone \\\n    https://gist.github.com/gmacario/2c11a927bfb9fa33326bd20fe28a85c7 \\\n    https-build-rokers-io\ncd ~/gist.github.com/gmacario/https-build-rokers-io \u0026amp;\u0026amp; git pull --all --prune\ndocker-compose up -d\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003eTODO\u003c/strong\u003e: Integrate gist into easy-jenkins\u003c/p\u003e\n\u003cp\u003eThe Jenkins dashboard should be now be accessible as \u003ca href=\"https://build.rokers.io/\"\u003ehttps://build.rokers.io/\u003c/a\u003e.\u003c/p\u003e\n\u003ch4 id=\"alternative-tunnel-through-ssh\"\u003eAlternative: Tunnel through SSH\u003c/h4\u003e\n\u003cp\u003eSince port 9080/tcp on build.rokers.io is firewalled, type the following commands on your laptop to create a SSH tunnel to \u003ca href=\"http://build.rokers.io:9080/\"\u003ehttp://build.rokers.io:9080/\u003c/a\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003essh \\\n    -i ~/.ssh/rokers_genivi_dev.pem \\\n    -L 29080:localhost:9080 \\\n    ubuntu@build.rokers.io\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou will then be able to access the Jenkins dashboard as \u003ca href=\"http://localhost:29080/\"\u003ehttp://localhost:29080/\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eNOTE\u003c/strong\u003e: Although SSH tunnel may be sufficient for most of the use-cases, in order to use GitHub based authentication you need to expose the Jenkins Dashboard through https as explained in the section above.\u003c/p\u003e\n\u003ch3 id=\"complete-setup-of-jenkins\"\u003eComplete setup of Jenkins\u003c/h3\u003e\n\u003cp\u003eNow browse \u003ccode\u003e${JENKINS_URL}\u003c/code\u003e (\u003ca href=\"https://build.rokers.io/\"\u003ehttps://build.rokers.io/\u003c/a\u003e or \u003ca href=\"http://localhost:29080/\"\u003ehttp://localhost:29080/\u003c/a\u003e if the SSH tunnel was used instead) and complete the configuration of easy-jenkins:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ePaste the initial admin password (you should find it displayed on the terminal where you launched \u003ccode\u003e./runme.sh\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003eClick \u003cstrong\u003eInstall suggested plugins\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eCreate First Admin User, then click \u003cstrong\u003eSave and Finish\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eIf requested, click \u003cstrong\u003eRestart\u003c/strong\u003e to restart Jenkins\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eReload the page in the browser, then login to Jenkins as user \u003ccode\u003eadmin\u003c/code\u003e using the credentials you have created just before.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eClick on \u003cstrong\u003eBuild Executor Status\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eConfigure node \u003ccode\u003emaster\u003c/code\u003e\u003cul\u003e\n\u003cli\u003eNumber of executors: \u003ccode\u003e4\u003c/code\u003e (was 2)\u003c/li\u003e\n\u003cli\u003eLabels: \u003ccode\u003edocker\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eClick \u003cstrong\u003eSave\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eBrowse \u003ccode\u003e${JENKINS_URL}\u003c/code\u003e \u0026gt; Manage Jenkins \u0026gt; Configure System\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eJenkins Location\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eJenkins URL: \u003ca href=\"https://build.rokers.io/\"\u003ehttps://build.rokers.io/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eSystem Admin e-mail address: (fill in the administrative email provided during the creation of Jenkins user \u003ccode\u003eadmin\u003c/code\u003e)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eGitHub Pull Requests\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eJenkins URL: \u003ca href=\"https://build.rokers.io/\"\u003ehttps://build.rokers.io/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eTODO\u003c/strong\u003e: Configure mail server used by Jenkins - see \u003ca href=\"http://www.360logica.com/blog/email-notification-in-jenkins/\"\u003ehttp://www.360logica.com/blog/email-notification-in-jenkins/\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"configure-login-to-jenkins-using-github-credentials\"\u003eConfigure login to Jenkins using GitHub credentials\u003c/h3\u003e\n\u003c!-- 2017-07-06 14:00 CEST --\u003e\n\n\u003cp\u003ePrerequisites: Jenkins Dashboard available as \u003ca href=\"https://build.rokers.io/\"\u003ehttps://build.rokers.io/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eFollow instructions at \u003ca href=\"https://github.com/gmacario/easy-jenkins/blob/master/docs/configuring-access-control-via-github.md\"\u003ehttps://github.com/gmacario/easy-jenkins/blob/master/docs/configuring-access-control-via-github.md\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eVisit \u003ca href=\"https://github.com/settings/applications/new\"\u003ehttps://github.com/settings/applications/new\u003c/a\u003e to create a GitHub application registration:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eApplication name: \u003ccode\u003ebuild.rokers.io\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eHomepage URL: \u003ccode\u003ehttps://build.rokers.io\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eApplication description: \u003ccode\u003eTODO\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eAuthorization callback URL: \u003ccode\u003ehttps://build.rokers.io/securityRealm/finishLogin\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003ethen click \u003cstrong\u003eRegister application\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eKeep the result page open, and take note of the following values (they will be used to configure the Github Authentication Plugin as explained in the following section)\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eClient ID: xxx\u003c/li\u003e\n\u003cli\u003eClient Secret: yyy\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eBrowse \u003ccode\u003e${JENKINS_URL}\u003c/code\u003e \u0026gt; Manage Jenkins \u0026gt; Configure Global Security\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eEnable security: Yes\u003cul\u003e\n\u003cli\u003eTCP port for JNLP agents: Fixed: 50000\u003c/li\u003e\n\u003cli\u003eDisable remember me: No\u003c/li\u003e\n\u003cli\u003eAccess Control\u003cul\u003e\n\u003cli\u003eSecurity Realm: Github Authentication Plugin\u003cul\u003e\n\u003cli\u003eGlobal GitHub OAuth Settings\u003cul\u003e\n\u003cli\u003eGitHub Web URI: \u003ccode\u003ehttps://github.com\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eGitHub API URI: \u003ccode\u003ehttps://api.github.com\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eClient ID: xxx (paste the value from the GitHub page above)\u003c/li\u003e\n\u003cli\u003eClient Secret: yyy (paste the value from the GitHub page above)\u003c/li\u003e\n\u003cli\u003eOAuth Scope(s): \u003ccode\u003eread:org,user:email\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eAuthorization: Logged-in users can do anything (See NOTE below)\u003cul\u003e\n\u003cli\u003eAllow anonymous read access: No\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eMarkup Formatter: Plain text\u003c/li\u003e\n\u003cli\u003ePrevent Cross Site Request Forgery exploits: Yes\u003c/li\u003e\n\u003cli\u003ePlugin Manager\u003cul\u003e\n\u003cli\u003eUse browser for metadata download: No\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eHidden security warnings\u003cul\u003e\n\u003cli\u003eEnable Slave-\u0026gt;Master Access Control: Yes\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003ethen click \u003cstrong\u003eSave\u003c/strong\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eNOTE\u003c/strong\u003e: In order to achieve a finer grain of access control choose instead\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAuthorization: Project-based Matrix Authorization Strategy\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003ethen add each single GitHub user/group you want to enable.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eIMPORTANT\u003c/strong\u003e: Make sure you give all rights at least to one legitimate user, otherwise after clicking \u0026quot;Save\u0026quot; you will not be able to login any more!\u003c/p\u003e\n\u003cp\u003eBrowse \u003ccode\u003e${JENKINS_URL}\u003c/code\u003e \u0026gt; Manage Jenkins \u0026gt; Configure Global Security \u0026gt; Security Realm\u003c/p\u003e\n\u003ch3 id=\"build-rokers-image-base\"\u003eBuild rokers-image-base\u003c/h3\u003e\n\u003c!-- 2017-07-11 14:10 CEST --\u003e\n\n\u003cp\u003eCreate pipeline for building \u003ccode\u003erokers-image-base\u003c/code\u003e from sources:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eClick \u003cstrong\u003eOpen Blue Ocean\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eClick \u003cstrong\u003eCreate a new Pipeline\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eWhere do you store the code? \u003cstrong\u003eGithub\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003ePaste your Github access token, then click \u003cstrong\u003eConnect\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eWhich organization does the repository belong to? \u003cstrong\u003erobotrokers\u003c/strong\u003e (if you are not a member of \u0026quot;robotrokers\u0026quot;, choose the organization where your forked project \u003ccode\u003erobotrokers/rokers-yocto-distro\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003eCreate a single Pipeline or discover all Pipelines? \u003cstrong\u003eNew Pipeline\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eChoose a repository: \u003cstrong\u003erokers-yocto-distro\u003c/strong\u003e, then click \u003cstrong\u003eCreate Pipeline\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eResult: Build SUCCESS (NOTE: It will take about 1h for a scratch build)\u003c/p\u003e\n\u003cp\u003eTo inspect and/or download the generated artifacts:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eClick \u003cstrong\u003eOpen Blue Ocean\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eSelect Pipeline \u0026quot;robotrokers / rokers-yocto-distro\u0026quot;\u003c/li\u003e\n\u003cli\u003eSelect Branch \u0026quot;dev-rokers\u0026quot;\u003c/li\u003e\n\u003cli\u003eClick \u003cstrong\u003eArtifacts\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- markdown-link-check-enable --\u003e\n\u003c!-- EOF --\u003e\n"},"config":{"title":"gmacario.github.io","description":"Gianpaolo Macario's public rants","social":{"github":{"name":"gmacario","link":"https://github.com/gmacario"},"twitter":{"name":"gpmacario","link":"https://www.twitter.com/gpmacario"}}}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"2017-07-11-install-build-rokers-io"},"buildId":"PnTlRc1EKmUznrLd91phK","runtimeConfig":{},"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-144e5fa6fafab6397d9c.js"></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.1a5e6c0bcaecf178eee2.js" async=""></script><script src="/_next/static/chunks/commons.a817edd9b2693fcc6af8.js" async=""></script><script src="/_next/static/chunks/main-daaff4f95c13923f49a5.js" async=""></script><script src="/_next/static/chunks/pages/_app-041b1432faef8bf5f62a.js" async=""></script><script src="/_next/static/chunks/b38cc82cec06c0ea8b096def674947a423bb2764.260eb1ac110a53311620.js" async=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-1c9a30b06d2f3be2ac9c.js" async=""></script><script src="/_next/static/PnTlRc1EKmUznrLd91phK/_buildManifest.js" async=""></script><script src="/_next/static/PnTlRc1EKmUznrLd91phK/_ssgManifest.js" async=""></script></body></html>